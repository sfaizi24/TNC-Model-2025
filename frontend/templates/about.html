{% extends "base.html" %}

{% block title %}About{% endblock %}

{% block content %}
<style>
    .about-container {
        max-width: 900px;
        margin: 0 auto;
        line-height: 1.6;
    }
    
    .about-header {
        margin-bottom: 24px;
    }
    
    .about-header h1 {
        font-size: 1.6em;
        margin-bottom: 8px;
        color: var(--text-primary);
    }
    
    .about-header p {
        font-size: 0.95em;
        color: #a8b3c1;
    }
    
    .section {
        background: var(--fanduel-gray);
        border: 1px solid var(--fanduel-light-gray);
        border-radius: 8px;
        padding: 20px 16px;
        margin-bottom: 20px;
    }
    
    .section h2 {
        font-size: 1.3em;
        margin-bottom: 14px;
        color: var(--fanduel-blue);
        border-bottom: 2px solid var(--fanduel-light-gray);
        padding-bottom: 8px;
    }
    
    .section h3 {
        font-size: 1.1em;
        margin: 16px 0 10px 0;
        color: var(--text-primary);
    }
    
    .section p {
        color: #a8b3c1;
        margin-bottom: 12px;
        font-size: 0.95em;
    }
    
    .section ul {
        margin: 12px 0 12px 20px;
        color: #a8b3c1;
    }
    
    .section li {
        margin-bottom: 10px;
        font-size: 0.95em;
    }
    
    .highlight {
        color: var(--text-primary);
        font-weight: 500;
    }
    
    .visual-example {
        margin: 20px 0;
        width: 100%;
    }
    
    .visual-example img {
        width: 100%;
        height: auto;
        display: block;
    }
    
    .visual-example p {
        text-align: center;
        font-size: 0.85em;
        color: #a8b3c1;
        font-style: italic;
        margin-top: 8px;
    }
    
    .lock-notice {
        background: rgba(20, 147, 255, 0.1);
        border-left: 4px solid var(--fanduel-blue);
        padding: 16px;
        margin-top: 20px;
        border-radius: 4px;
    }
    
    .lock-notice p {
        color: var(--text-primary);
        margin: 0;
        font-size: 0.95em;
    }
</style>

<div class="about-container">
    <div class="about-header">
        <h1>What is TNC Casino?</h1>
        <p>TLDR: Odds are calculated by running 50,000 simulations of each team's lineup and seeing how often each team wins.</p>
    </div>
    
    <div class="section">
        <h2>Getting Projections and Lineup Data</h2>
        
        <h3>Scraping Projections</h3>
        <p>I pull player projections from five different sources which I will not name because my wife is not yet bar-certified. I then combine them with the league data I get from Sleeper.</p>
        
        <p>I then calculate "expected lineups" for each team, factoring in injuries, bye weeks, and start/sit decisions. This process isn't perfect especially because all of the backend data you see on this site is ran and updated whenever I feel like.</p>
        
        <h3>Step 2: Building in Variance</h3>
        <p>Of course I'm not gonna just average the projections and call it a day. I use 2 inputs to determine a players point-scoring distribution:</p>
        
        <ul>
            <li><span class="highlight">Projection disagreement:</span> The variance between projections from different sources. A wide spread between projections increases our variance estimate.</li>
            <li><span class="highlight">Historical positional variance:</span> A super quick historical analysis gave me some sigma values to bake in for each position.</li>
        </ul>
        
    </div>
    
    <div class="section">
        <h2>Step 2: Monte Carlo Simulations</h2>
        
        <p>Once we have the values for each player, we can use Monte Carlo simulations to run 50,000 simus of each team's lineup and see how many points they score.</p>
        
        <p>Simulations are done with a log-normal distribution so there is a heavy right-skew</p>
        
        <div class="visual-example">
            <img src="/static/images/dist_Team_sfaizi24_week_10.png" alt="Example distribution showing 50,000 simulated outcomes">
        </div>
        
        <p>These 50,000 simulations turn into the odds you see on the betting board. If amir812 was the highest scorer in 6,800 of the simulations, then he has a 13.6% of being the highest scorer, which converts to betting odds of +637</p>
    </div>
    
    <div class="lock-notice">
        <p><strong>The Lock:</strong> You can place, modify, or cancel bets anytime before The Lock, which happens right after Thursday Night Football kicks off. Once locked, all bets stay in place and settle after Monday Night Football ends.</p>
    </div>
</div>
{% endblock %}
